# NJUPT-login

A messy NJUPT campus network login script by William Wei. Python noob's first try.

[中文](https://github.com/WiIIiamWei/NJUPT-login/blob/main/README.md)

## How to use

**! WARNING: This script will generate a config.bin file in the current directory to store your login info. Please do not delete or share this file, as it will lead to your password being leaked!**

You can find executable files generated by `pyinstaller` on the Release page, or download the source code and run it directly (requires module `requests`).

It is recommended to put the executable in a single folder and create a link on Desktop or Start folder for auto login (you may also try scheduled task).

## Alternative Approaches

### Using `curl` for login requests

For campus network accounts, you can use the following command:

```bash
curl --insecure "https://p.njupt.edu.cn:802/eportal/portal/login?&&user_account=<BID>&&user_password=<PASSWORD>"
```

For China Mobile accounts, you can use the following command:

```bash
curl --insecure "https://p.njupt.edu.cn:802/eportal/portal/login?&&user_account=<BID>%40cmcc&&user_password=<PASSWORD>"
```

For China Telecom accounts, you can use the following command:

```bash
curl --insecure "https://p.njupt.edu.cn:802/eportal/portal/login?&&user_account=<BID>%40njxy&&user_password=<PASSWORD>"
```

When using these commands, replace `<BID>` with your own student ID and `<PASSWORD>` with your password.

**Note: This method is not applicable to Windows PowerShell's `curl`, as it is aliased to `Invoke-WebRequest`. If you want to set this up on Windows, you can use other shells like Cygwin or Git Bash, install a Windows-compatible `curl`, ~~or follow the solution below using `Invoke-WebRequest`~~.**

You can also create an alias for this command in your shell. For example, in bash and zsh, add the following lines to your `.bashrc` and `.zshrc` files (usually located at `~/.bashrc` or `~/.zshrc`):

```bash
alias njupt-login='curl --insecure "https://p.njupt.edu.cn:802/eportal/portal/login?&&user_account=<BID>&&user_password=<PASSWORD>"'
```

*Please choose the correct URL based on your account type (refer to the URL in the `curl` commands), the above examples are just placeholders.*

### Using `Invoke-WebRequest` for login requests

This method is no longer working. You may use `curl` instead.

For Windows 11 users, `curl` should be already shipped with your OS, however you'll have to manually use it. Please type `curl.exe` instead of `curl` for the command mentioned above.

## Copyright Statements

The icon of the executable file uses the logo of NJUPT (only for the purpose of easy identification, please contact me if there are copyright infringements). Nanjing University of Posts of Telecommunication is the copyright holder of this logo.

Everything else in this project is licensed under GNU GPLv3.
